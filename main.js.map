{"version":3,"sources":["webpack://weather-app/./src/domNodeCreator.js","webpack://weather-app/./src/renderDOM.js","webpack://weather-app/./src/index.js","webpack://weather-app/./src/weatherAPI.js"],"names":["htmlTag","options","text","node","document","createElement","Object","keys","forEach","key","setAttribute","textContent","result","getElementById","onclick","async","location","value","unit","querySelector","checked","temp","icon","weatherDesc","innerHTML","imgSrc","locationResultEle","domNodeCreator","class","toUpperCase","weatherIconEle","src","alt","weatherDescEle","tempResultEle","unitEle","appendChild","renderResult","Promise","resolve","reject","url","constructURL","fetch","mode","then","response","ok","Error","json","data","main","weather","description","catch","error","e"],"mappings":"mBAAA,SAAgBA,EAASC,EAAU,GAAIC,EAAO,MAC5C,MAAMC,EAAOC,SAASC,cAAcL,GAMpC,OALaM,OAAOC,KAAKN,GACpBO,SAASC,IACZN,EAAKO,aAAaD,EAAKR,EAAQQ,OAEjCN,EAAKQ,YAAcT,EACZC,GCLHS,EAASR,SAASS,eAAe,UCYvCT,SAASS,eAAe,UAAUC,QAXlCC,iBACE,MAAMC,EAAWZ,SAASS,eAAe,QAAQI,MAC3CC,EAAOd,SAASe,cAAc,iBAAiBC,QACrD,IDF0B,GAC1BC,OAAML,WAAUM,OAAMC,cAAaL,WAEnCN,EAAOY,UAAY,GACnB,MAAMC,EAAS,oCAAoCH,WAC7CI,EAAoBC,EAAe,IAAK,CAAEC,MAAO,YAAcZ,EAASa,eACxEC,EAAiBH,EAAe,MAAO,CAAEI,IAAKN,EAAQO,IAAK,eAAgBJ,MAAO,iBAClFK,EAAiBN,EAAe,IAAK,CAAEC,MAAO,gBAAkBL,GAChEW,EAAgBP,EAAe,IAAK,CAAEC,MAAO,QAAUP,GACvDc,EAAUR,EAAe,MAAO,CAAEC,MAAO,QAAsB,WAATV,EAAoB,KAAO,MACvFN,EAAOwB,YAAYV,GACnBd,EAAOwB,YAAYN,GACnBlB,EAAOwB,YAAYH,GACnBC,EAAcE,YAAYD,GAC1BvB,EAAOwB,YAAYF,ICVjBG,OCHF,SAAwBrB,EAAUE,GAChC,OAAO,IAAIoB,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EANV,SAAsBzB,EAAUE,GAC9B,MAAO,qDAAqDF,kDAAyDE,IAKvGwB,CAAa1B,EAAUE,GACnCyB,MAAMF,EAAK,CAAEG,KAAM,SAChBC,MAAMC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,mCAElB,OAAOF,EAASG,UAEjBJ,MAAMK,IACL,MAAM,KAAE7B,GAAS6B,EAAKC,MAChB,KAAE7B,GAAS4B,EAAKE,QAAQ,GACxB7B,EAAc2B,EAAKE,QAAQ,GAAGC,YACpCd,EAAQ,CACNlB,OAAML,WAAUM,OAAMC,cAAaL,YAGtCoC,OAAOC,IACNf,EAAOe,SDjBa,CAAevC,EAAWE,EAAO,WAAa,WAExE,MAAOsC,GDaT5C,EAAOY,UAAY,GACnBZ,EAAOY,UAAY,+E","file":"main.js","sourcesContent":["export default (htmlTag, options = {}, text = '') => {\n  const node = document.createElement(htmlTag);\n  const keys = Object.keys(options);\n  keys.forEach((key) => {\n    node.setAttribute(key, options[key]);\n  });\n  node.textContent = text;\n  return node;\n};\n","import domNodeCreator from './domNodeCreator';\n\nconst result = document.getElementById('result');\n\nexport const renderResult = ({\n  temp, location, icon, weatherDesc, unit,\n}) => {\n  result.innerHTML = '';\n  const imgSrc = `http://openweathermap.org/img/wn/${icon}@4x.png`;\n  const locationResultEle = domNodeCreator('p', { class: 'location' }, location.toUpperCase());\n  const weatherIconEle = domNodeCreator('img', { src: imgSrc, alt: 'weather icon', class: 'weather-icon' });\n  const weatherDescEle = domNodeCreator('p', { class: 'weather-desc' }, weatherDesc);\n  const tempResultEle = domNodeCreator('p', { class: 'temp' }, temp);\n  const unitEle = domNodeCreator('sup', { class: 'unit' }, `${unit === 'metric' ? '°C' : '°F'}`);\n  result.appendChild(locationResultEle);\n  result.appendChild(weatherIconEle);\n  result.appendChild(weatherDescEle);\n  tempResultEle.appendChild(unitEle);\n  result.appendChild(tempResultEle);\n};\n\nexport const renderError = () => {\n  result.innerHTML = '';\n  result.innerHTML = `\n    <div class='invalid-feedback'> Please enter correct city </div>\n  `;\n};","import { renderResult, renderError } from './renderDOM';\nimport getWeatherdata from './weatherAPI';\n\nasync function cb() {\n  const location = document.getElementById('city').value;\n  const unit = document.querySelector('.switch input').checked;\n  try {\n    const weatherData = await getWeatherdata(location, (unit ? 'imperial' : 'metric'));\n    renderResult(weatherData);\n  } catch (e) {\n    renderError();\n  }\n}\n\ndocument.getElementById('submit').onclick = cb;","const weatherAPI = (() => {\n  function constructURL(location, unit) {\n    return `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=786b74dc8fce162462303a21c3e890c0&units=${unit}`;\n  }\n\n  function getWeatherdata(location, unit) {\n    return new Promise((resolve, reject) => {\n      const url = constructURL(location, unit);\n      fetch(url, { mode: 'cors' })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error('Please provide the correct city');\n          }\n          return response.json();\n        })\n        .then((data) => {\n          const { temp } = data.main;\n          const { icon } = data.weather[0];\n          const weatherDesc = data.weather[0].description;\n          resolve({\n            temp, location, icon, weatherDesc, unit,\n          });\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n  return getWeatherdata;\n})();\n\nexport default weatherAPI;"],"sourceRoot":""}